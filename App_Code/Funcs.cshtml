@using System.Web.Mvc;
@using System.Text;
@functions {

    public static void AddNewProduct(string ProductName, string Category, double Price, double PurchasePrice, double Stock)
    {  
        var db = Database.Open("Cafeen");  
        db.Execute("INSERT INTO Products (ProductName, Category, Price, PurchasePrice, Stock) VALUES(@0, @1, @2, @3, @4)", ProductName, Category, Price, PurchasePrice, Stock); 
    }   
    
    
    public static void EditProduct(string ProductName, string Category, double Price, double PurchasePrice, double Stock, string ProductID)
    {
        var db = Database.Open("Cafeen");
        db.Execute("UPDATE Products SET ProductName=@0, Category=@1, Price=@2, PurchasePrice=@3, Stock=@4 WHERE ID=@5", ProductName, Category, Price, PurchasePrice, Stock, ProductID);
    }
    
    
    public static void EditProduct(string Category, string NewCategory, double NewPrice)  {
        var db = Database.Open("Cafeen");
        db.Execute("UPDATE Products SET Category=@1, Price=@2 WHERE Category=@0", Category, NewCategory, NewPrice);
    }   

    public static void EditProduct(string Category, string NewCategory)  {
        var db = Database.Open("Cafeen");
        db.Execute("UPDATE Products SET Category=@1 WHERE Category=@0", Category, NewCategory);
    }   

    public static void UpdateStock(double Stock, string ProductID)
    {
        var db = Database.Open("Cafeen");
        db.Execute("UPDATE Products SET Stock=@0  WHERE ID=@1", Stock, ProductID);

    } 
    public static void DeleteProduct(string ProductID)
    {
        var db = Database.Open("Cafeen");
        db.Execute("DELETE FROM Products WHERE ID = @0", ProductID);
    }

    public static void AddCategory(string Category, double Price){
        var db = Database.Open("Cafeen");
        db.Execute("INSERT INTO CategoryC (Category, Price) VALUES(@0, @1)", Category, Price);
    }

    public static void DeleteCategory(string CategoryID)
    {
        var db = Database.Open("Cafeen");
        db.Execute("DELETE FROM Category WHERE ID = @0", CategoryID);
    }
    
    public static void AddLogData(){
        var db = Database.Open("Cafeen");
        db.Execute("INSERT INTO Logistics (ID, ProductName, Category, Price, PurchasePrice, Stock, CountType) SELECT ID, ProductName, Category, Price, PurchasePrice, Stock, CountType FROM Products");
        }

    public static void UpdateCountType(string CountType)
    {
        var db = Database.Open("Cafeen");
        db.Execute("UPDATE Products SET CountType=@0", CountType);

    } 

}